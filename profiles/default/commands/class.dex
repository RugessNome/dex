
import node;
import nodes.class;

class ClassCommand : Command
{
public:
  ClassCommand() = default;
  ~ClassCommand() = default;

  String name() const { return "class"; }

  void operator()(const String & name)
  {
    auto ret = Ref<Class>::make(name);
    state.stack.append(ret);
    state.classes.append(ret);
  }
};

void endclass()
{
  while(!state.stack.back().is<Class>())
	state.stack.pop_back();

  state.stack.pop_back();
}